datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client"
  output   = "./prisma"
}

enum World {
  KrCarbuncle
  KrChocobo
  KrMoogle
  KrTonberry
  KrFenrir
}

model Server {
  world World @id

  progress    Int      @default(0)
  subprogress Int      @default(0)
  updatedAt   DateTime @updatedAt

  comments Comment[]
}

model Comment {
  id String @id @default(uuid())

  world  World
  server Server @relation(fields: [world], references: [world])

  content   String
  createdAt DateTime @default(now())

  @@index([world, createdAt])
}
